{"remainingRequest":"D:\\web\\bishe\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\web\\bishe\\front\\src\\router\\index.js","dependencies":[{"path":"D:\\web\\bishe\\front\\src\\router\\index.js","mtime":1669293648343},{"path":"D:\\web\\bishe\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\web\\bishe\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgcmVkaXJlY3Q6ICcvZnJvbnQvaG9tZScKfSwgewogIHBhdGg6ICcvZnJvbnQnLAogIG5hbWU6ICdGcm9udCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi9sYXlvdXQvZnJvbnQiKTsKICB9LAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogJ2hvbWUnLAogICAgbmFtZTogJ0Zyb250SG9tZScsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvZnJvbnQvaG9tZSIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICdzZWFyY2gnLAogICAgbmFtZTogJ1NlYXJjaCcsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvZnJvbnQvc2VhcmNoIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ2dvb2RzJywKICAgIG5hbWU6ICdHb29kcycsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvZnJvbnQvZ29vZHMiKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnY2FydCcsCiAgICBuYW1lOiAnQ2FydCcsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvZnJvbnQvY2FydCIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICdwcmVPcmRlcicsCiAgICBuYW1lOiAnUHJlT3JkZXInLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L3ByZU9yZGVyIik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ29yZGVyJywKICAgIG5hbWU6ICdGcm9udE9yZGVyJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9vcmRlciIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICdjb2xsZWN0JywKICAgIG5hbWU6ICdDb2xsZWN0JywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9jb2xsZWN0Iik7CiAgICB9CiAgfSwgewogICAgcGF0aDogJ3BlcnNvbicsCiAgICBuYW1lOiAnUGVyc29uJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9mcm9udC9wZXJzb24iKTsKICAgIH0KICB9LCB7CiAgICBwYXRoOiAnYWRkcmVzcycsCiAgICBuYW1lOiAnQWRkcmVzcycsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvZnJvbnQvYWRkcmVzcyIpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICdjbGFzc2lmeScsCiAgICBuYW1lOiAnQ2xhc3NpZnknLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL2Zyb250L2NsYXNzaWZ5Iik7CiAgICB9CiAgfV0KfSwgewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9sb2dpbiIpOwogIH0KfSwgewogIHBhdGg6ICcvcmVnaXN0ZXInLAogIG5hbWU6ICdSZWdpc3RlcicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCIuLi92aWV3cy9yZWdpc3RlciIpOwogIH0KfV07Cgp2YXIgY3JlYXRlUm91dGVyID0gZnVuY3Rpb24gY3JlYXRlUm91dGVyKCkgewogIHJldHVybiBuZXcgVnVlUm91dGVyKHsKICAgIG1vZGU6ICdoaXN0b3J5JywKICAgIHJvdXRlczogcm91dGVzCiAgfSk7Cn07Cgp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKCk7CnZhciB1c2VyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpID8gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpIDoge307CnJlc2V0Um91dGVyKHVzZXIucGVybWlzc2lvbik7IC8v5YaZ5LiA5Liq6YeN572u6Lev55Sx55qE5pa55rOV77yM5YiH5o2i55So5oi35ZCO77yM5oiW6ICF6YCA5Ye65pe25riF6Zmk5Yqo5oCB5Yqg6L2955qE6Lev55SxCgpleHBvcnQgZnVuY3Rpb24gcmVzZXRSb3V0ZXIocGVybWlzc2lvbnMpIHsKICBpZiAocGVybWlzc2lvbnMpIHsKICAgIHZhciBuZXdSb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoKTsKICAgIHJvdXRlci5tYXRjaGVyID0gbmV3Um91dGVyLm1hdGNoZXI7IC8vIOaWsOi3r+eUseWunuS+i21hdGNlcu+8jOi1i+WAvOe7meaXp+i3r+eUseWunuS+i+eahG1hdGNoZXLvvIzvvIjnm7jlvZPkuo5yZXBsYWNlUm91dGVy77yJCgogICAgaWYgKCFyb3V0ZXIuZ2V0Um91dGVzKCkuZmluZChmdW5jdGlvbiAodikgewogICAgICByZXR1cm4gdi5uYW1lID09PSAnTWFuYWdlJzsKICAgIH0pKSB7CiAgICAgIHJvdXRlci5hZGRSb3V0ZShnZXRQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucykpOwogICAgfQogIH0KfQoKZnVuY3Rpb24gZ2V0UGVybWlzc2lvbnMocGVybWlzc2lvbnMpIHsKICB2YXIgbWFuYWdlID0gewogICAgcGF0aDogJy9tYW5hZ2UnLAogICAgbmFtZTogJ01hbmFnZScsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vbGF5b3V0L21hbmFnZSIpOwogICAgfSwKICAgIGNoaWxkcmVuOiBbewogICAgICBwYXRoOiAncGVyc29uJywKICAgICAgbmFtZTogJ+S4quS6uuS/oeaBrycsCiAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgIHJldHVybiBpbXBvcnQoIi4uL3ZpZXdzL21hbmFnZS9wZXJzb24iKTsKICAgICAgfQogICAgfV0KICB9OyAvLyDorr7nva7ot6/nlLHoj5zljZUKCiAgaWYgKHBlcm1pc3Npb25zKSB7CiAgICBwZXJtaXNzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIG1hbmFnZS5jaGlsZHJlbi5wdXNoKHsKICAgICAgICBwYXRoOiAiL21hbmFnZSIgKyBpdGVtLnBhdGgsCiAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgcmV0dXJuIGltcG9ydCgiLi4vdmlld3MvbWFuYWdlIiArIGl0ZW0ucGF0aCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgcmV0dXJuIG1hbmFnZTsKfQoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgLy8g5Yik5pat6KaB5Y6755qE6Lev55Sx55WM6Z2i5piv5LiN5piv6KaB6Ym05p2DCiAgaWYgKHRvLnBhdGguaW5jbHVkZXMoJ21hbmFnZScpKSB7CiAgICAvLyDmn6XnnIvmmK/lkKbnmbvpmYYKICAgIGlmICghdXNlci5pZCkgewogICAgICAvLyDmsqHnmbvlvZXnmoTlgZrlpITnkIYKICAgICAgbmV4dCh7CiAgICAgICAgcGF0aDogJy9sb2dpbicKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICAvLyDnmbvpmYbnmoTmraPluLjot7MKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSB7CiAgICAvLyDkuI3pnIDopoHpibTmnYPnmoTmraPluLjot7MKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["D:/web/bishe/front/src/router/index.js"],"names":["Vue","VueRouter","use","routes","path","redirect","name","component","children","createRouter","mode","router","user","sessionStorage","getItem","JSON","parse","resetRouter","permission","permissions","newRouter","matcher","getRoutes","find","v","addRoute","getPermissions","manage","forEach","item","push","beforeEach","to","from","next","includes","id"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\n\r\nlet routes = [\r\n    {\r\n        path: '/',\r\n        redirect: '/front/home',\r\n    },\r\n    {\r\n        path: '/front',\r\n        name: 'Front',\r\n        component: () => import(\"../layout/front\"),\r\n        children: [\r\n            {\r\n                path: 'home',\r\n                name: 'FrontHome',\r\n                component: () => import(\"../views/front/home\")\r\n            },\r\n            {\r\n                path: 'search',\r\n                name: 'Search',\r\n                component: () => import(\"../views/front/search\")\r\n            },\r\n            {\r\n                path: 'goods',\r\n                name: 'Goods',\r\n                component: () => import(\"../views/front/goods\")\r\n            },\r\n            {\r\n                path: 'cart',\r\n                name: 'Cart',\r\n                component: () => import(\"../views/front/cart\")\r\n            },\r\n            {\r\n                path: 'preOrder',\r\n                name: 'PreOrder',\r\n                component: () => import(\"../views/front/preOrder\")\r\n            },\r\n            {\r\n                path: 'order',\r\n                name: 'FrontOrder',\r\n                component: () => import(\"../views/front/order\")\r\n            },\r\n            {\r\n                path: 'collect',\r\n                name: 'Collect',\r\n                component: () => import(\"../views/front/collect\")\r\n            },\r\n            {\r\n                path: 'person',\r\n                name: 'Person',\r\n                component: () => import(\"../views/front/person\")\r\n            },\r\n            {\r\n                path: 'address',\r\n                name: 'Address',\r\n                component: () => import(\"../views/front/address\")\r\n            },\r\n            {\r\n                path: 'classify',\r\n                name: 'Classify',\r\n                component: () => import(\"../views/front/classify\")\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        path: '/login',\r\n        name: 'Login',\r\n        component: () => import(\"../views/login\")\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'Register',\r\n        component: () => import(\"../views/register\")\r\n    },\r\n]\r\n\r\n\r\nconst createRouter = () => new VueRouter({\r\n    mode: 'history',\r\n    routes: routes\r\n})\r\n\r\nconst router = createRouter()\r\n\r\nlet user = sessionStorage.getItem(\"user\") ? JSON.parse(sessionStorage.getItem(\"user\")) : {}\r\nresetRouter(user.permission)\r\n\r\n//写一个重置路由的方法，切换用户后，或者退出时清除动态加载的路由\r\nexport function resetRouter(permissions) {\r\n    if (permissions) {\r\n        const newRouter = createRouter()\r\n        router.matcher = newRouter.matcher // 新路由实例matcer，赋值给旧路由实例的matcher，（相当于replaceRouter）\r\n        if (!router.getRoutes().find(v => v.name === 'Manage')) {\r\n            router.addRoute(getPermissions(permissions))\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction getPermissions(permissions) {\r\n    let manage = {\r\n        path: '/manage', name: 'Manage', component: () => import(\"../layout/manage\"),\r\n        children: [\r\n            {path: 'person', name: '个人信息', component: () => import(\"../views/manage/person\")}\r\n        ]\r\n    }\r\n    // 设置路由菜单\r\n    if (permissions) {\r\n        permissions.forEach(item => {\r\n            manage.children.push({\r\n                path: \"/manage\" + item.path,\r\n                name: item.name,\r\n                component: () => import(\"../views/manage\" + item.path)\r\n            });\r\n        })\r\n    }\r\n    return manage\r\n}\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    // 判断要去的路由界面是不是要鉴权\r\n    if (to.path.includes('manage')) {\r\n        // 查看是否登陆\r\n        if (!user.id) {\r\n            // 没登录的做处理\r\n            next({\r\n                path: '/login'\r\n            })\r\n        } else {\r\n            // 登陆的正常跳\r\n            next()\r\n        }\r\n    } else {\r\n        // 不需要鉴权的正常跳\r\n        next()\r\n    }\r\n})\r\n\r\nexport default router\r\n"]}]}